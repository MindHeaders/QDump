<div ng-show="!submitted">
    <div class="row">
        <div class="col-md-4 col-md-offset-4" align="center">
            <h1>Registration</h1>
        </div>
    </div>
    <div>
        <form class="form-horizontal" name="regForm" novalidate>
            <div class="form-group has-feedback"
                 ng-class="{'has-success' : regForm.email.$valid && regForm.email.$dirty,
                    'has-error' : regForm.email.$invalid && regForm.email.$dirty}"
                 show-errors>
                <div class="col-md-4 col-md-offset-4">
                    <input type="email" name="email" class="form-control" placeholder="Email"
                           ng-model="user.email" required ensure-unique ng-minlength="3" ng-maxlength="255" autocomplete="off"/>
                    <div validation-messages
                         model-controller="regForm.email"
                         required-error="Email is required"
                         minlength-error="Email is too short"
                         maxlength-error="Email is too long"
                         email-error="Email is invalid"
                         unique-error="Email is already exists">
                    </div>
                    <div class="error-container"
                         ng-show="regForm.email.$dirty && regForm.email.$invalid">
                        <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                    </div>
                    <span class="glyphicon glyphicon-ok form-control-feedback"
                          ng-if="regForm.email.$valid
                          && regForm.email.$dirty
                          && regForm.email.$$success.unique != null">
                    </span>
                </div>
            </div>
            <div class="form-group has-feedback"
                 ng-class="{'has-success' : regForm.login.$valid && regForm.login.$dirty,
                    'has-error' : regForm.login.$invalid && regForm.login.$dirty}"
                 show-errors>
                <div class="col-md-4 col-md-offset-4">
                    <input type="text" class="form-control" name="login" placeholder="Login"
                           ng-model="user.login" ng-minlength=3 ng-maxlength=35 required ensure-unique autocomplete="off"/>
                    <div validation-messages
                         model-controller="regForm.login"
                         required-error="Login is required"
                         minlength-error="Login is too short"
                         maxlength-error="Login is too long"
                         unique-error="Login is already exists">
                    </div>
                    <div class="error-container"
                         ng-show="regForm.login.$dirty && regForm.login.$invalid">
                        <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                    </div>
                    <span class="glyphicon glyphicon-ok form-control-feedback"
                          ng-if="regForm.login.$valid
                          && regForm.login.$dirty
                          && regForm.login.$$success.unique != null">
                    </span>
                </div>
            </div>
            <div class="form-group has-feedback"
                 ng-class="{'has-success' : regForm.password.$valid && regForm.password.$dirty,
                    'has-error' : regForm.password.$invalid && regForm.password.$dirty,
                    'has-warning' : user.password.length <= 10}"
                 show-errors>
                <div class="col-md-4 col-md-offset-4">
                    <input type="password" class="form-control" name="password" placeholder="Password"
                           ng-model="user.password" required ng-minlength=6 ng-maxlength=255 autocomplete="off"/>
                    <div validation-messages
                         model-controller="regForm.password"
                         required-error="Password is required"
                         minlength-error="Password is too short"
                         maxlength-error="Password is too long">
                    </div>
                    <div class="error-container"
                         ng-show="regForm.password.$dirty && regForm.password.$invalid">
                        <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                    </div>
                    <span class="glyphicon glyphicon-ok form-control-feedback"
                          ng-if="regForm.password.$valid
                          && regForm.password.$dirty
                          && user.password.length > 10">
                    </span>
                    <span class="glyphicon glyphicon-warning-sign form-control-feedback"
                          ng-if="user.password.length <= 10"></span>
                    <small class="help-block"
                           ng-if="user.password.length <= 10">
                        Your password is too weak. We recommend to improve it.
                    </small>
                </div>
            </div>
            <div class="form-group has-feedback"
                 ng-class="{'has-success' : regForm.firstname.$valid && regForm.firstname.$dirty,
                    'has-error' : regForm.firstname.$invalid && regForm.firstname.$dirty}"
                 show-errors>
                <div class="col-md-4 col-md-offset-4">
                    <input type="text" class="form-control" name="firstname" placeholder="Firstname"
                           ng-model="user.firstname" ng-minlength=2 ng-maxlength=35 ng-pattern="firstnamePattern"
                           autocomplete="off">
                    <div validation-messages
                         model-controller="regForm.firstname"
                         minlength-error="Firstname is too short"
                         maxlength-error="Firstname is too long"
                         pattern-error="Should contains only A-Z, a-z symbols (valid - John, invalid - john, j0hn)">
                    </div>
                    <span class="glyphicon glyphicon-ok form-control-feedback"
                          ng-if="regForm.firstname.$valid
                          && regForm.firstname.$dirty
                          && user.firstname.length > 0"></span>
                    <span class="glyphicon glyphicon-remove form-control-feedback"
                          ng-if="regForm.firstname.$invalid
                          && regForm.firstname.$dirty"></span>
                </div>
            </div>
            <div class="form-group has-feedback"
                 ng-class="{'has-success' : regForm.lastname.$valid && regForm.lastname.$dirty,
                    'has-error' : regForm.lastname.$invalid && regForm.lastname.$dirty}"
                 show-errors>
                <div class="col-md-4 col-md-offset-4">
                    <input type="text" class="form-control" name="lastname" placeholder="Lastname"
                           ng-model="user.lastname" ng-minlength="2" ng-maxlength="35"
                           ng-pattern="lastnamePattern" autocomplete="off">
                    <div validation-messages
                         model-controller="regForm.lastname"
                         minlength-error="Lastname is too short"
                         maxlength-error="Lastname is too long"
                         pattern-error="Should contains only A-Z, a-z, , ', - symbols (example valid - M`gain, invalid - 1Smith)">
                    </div>
                    <span class="glyphicon glyphicon-ok form-control-feedback"
                          ng-if="regForm.lastname.$valid
                          && regForm.lastname.$dirty
                          && user.lastname.length > 0"></span>
                    <span class="glyphicon glyphicon-remove form-control-feedback"
                          ng-if="regForm.lastname.$invalid
                          && regForm.lastname.$dirty"></span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-4 col-md-offset-4">
                    <label class="radio-inline">
                        <input type="radio" ng-model="user.gender" value=1> Male</label>
                    <label class="radio-inline">
                        <input type="radio" ng-model="user.gender" value=2> Female</label>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-4 col-md-offset-4">
                    <button type="submit" class="btn btn-lg btn-primary btn-block" ng-disabled="regForm.$invalid" ng-click="reg()">Sign up</button>
                </div>
            </div>
        </form>
    </div>
</div>
<div ng-show="submitted">
    <h3 align="center">You successfully registered in QDump project.<br>
        Please check your email for confirming <br>letter to complete your registration.
    </h3>
</div>