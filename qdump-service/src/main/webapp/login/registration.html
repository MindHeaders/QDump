<div ng-controller="CheckerCtrl">
    <div class="row">
        <div class="col-md-4 col-md-offset-4" align="center">
            <h1>Registration</h1>
        </div>
    </div>
    <div>
        <form class="form-horizontal" name="regForm" novalidate>
            <div class="form-group has-feedback"
                 ng-class="{'has-success' : check(regForm.email, 'dirtyValid'),
                    'has-error' : check(regForm.email, 'dirtyInvalid')}"
                 show-errors>
                <div class="col-md-4 col-md-offset-4">
                    <input type="email" name="email" class="form-control" placeholder="Email"
                           ng-model="user.email" required ensure-unique ng-minlength="3" ng-maxlength="255" autocomplete="off"/>
                    <div validation-messages
                         model-controller="regForm.email"
                         required-error="Email is required"
                         minlength-error="Email is too short"
                         maxlength-error="Email is too long"
                         email-error="Email is invalid"
                         unique-error="Email is already exists">
                    </div>
                    <div class="error-container"
                         ng-show="check(regForm.email, 'dirtyInvalid')">
                        <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                    </div>
                    <span class="glyphicon glyphicon-ok form-control-feedback"
                          ng-if="check(regForm.email, 'dirtyValid')
                          && regForm.email.$$success.unique != null">
                    </span>
                </div>
            </div>
            <div class="form-group has-feedback"
                 ng-class="{'has-success' : check(regForm.login, 'dirtyValid'),
                    'has-error' : check(regForm.login, 'dirtyInvalid')}"
                 show-errors>
                <div class="col-md-4 col-md-offset-4">
                    <input type="text" class="form-control" name="login" placeholder="Login"
                           ng-model="user.login" ng-minlength=3 ng-maxlength=35 required ensure-unique autocomplete="off"/>
                    <div validation-messages
                         model-controller="regForm.login"
                         required-error="Login is required"
                         minlength-error="Login is too short"
                         maxlength-error="Login is too long"
                         unique-error="Login is already exists">
                    </div>
                    <div class="error-container"
                         ng-show="check(regForm.login, 'dirtyInvalid')">
                        <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                    </div>
                    <span class="glyphicon glyphicon-ok form-control-feedback"
                          ng-if="check(regForm.login, 'dirtyValid')
                          && regForm.login.$$success.unique != null">
                    </span>
                </div>
            </div>
            <div class="form-group has-feedback"
                 ng-class="{'has-success' : check(regForm.password, 'dirtyValid'),
                    'has-error' : check(regForm.password, 'dirtyInvalid'),
                    'has-warning' : user.password.length <= 10}"
                 show-errors>
                <div class="col-md-4 col-md-offset-4">
                    <input type="password" class="form-control" name="password" placeholder="Password"
                           ng-model="user.password" required ng-minlength=6 ng-maxlength=255 autocomplete="off"/>
                    <div validation-messages
                         model-controller="regForm.password"
                         required-error="Password is required"
                         minlength-error="Password is too short"
                         maxlength-error="Password is too long">
                    </div>
                    <div class="error-container"
                         ng-show="check(regForm.password, 'dirtyInvalid')">
                        <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                    </div>
                    <span class="glyphicon glyphicon-ok form-control-feedback"
                          ng-if="check(regForm.password, 'dirtyValid')
                          && user.password.length > 10">
                    </span>
                    <span class="glyphicon glyphicon-warning-sign form-control-feedback"
                          ng-if="user.password.length <= 10"></span>
                    <small class="help-block"
                           ng-if="user.password.length <= 10">
                        Your password is too weak. We recommend to improve it.
                    </small>
                </div>
            </div>
            <div class="form-group has-feedback"
                 ng-class="{'has-success' : check(regForm.password, 'dirtyValid'),
                    'has-error' : check(regForm.password, 'dirtyInvalid')}"
                 show-errors>
                <div class="col-md-4 col-md-offset-4">
                    <input type="text" class="form-control" name="firstname" placeholder="Firstname"
                           ng-model="user.firstname" ng-minlength=2 ng-maxlength=35 ng-pattern="firstnamePattern"
                           autocomplete="off">
                    <div validation-messages
                         model-controller="regForm.firstname"
                         minlength-error="Firstname is too short"
                         maxlength-error="Firstname is too long"
                         pattern-error="Should contains only A-Z, a-z symbols (valid - John, invalid - john, j0hn)">
                    </div>
                    <span class="glyphicon glyphicon-ok form-control-feedback"
                          ng-if="check(regForm.firstname, 'dirtyValid')
                          && user.firstname.length > 0"></span>
                    <span class="glyphicon glyphicon-remove form-control-feedback"
                          ng-if="check(regForm.firstname, 'dirtyInvalid')"></span>
                </div>
            </div>
            <div class="form-group has-feedback"
                 ng-class="{'has-success' : check(regForm.lastname, 'dirtyValid'),
                    'has-error' : check(regForm.lastname, 'dirtyInvalid')}"
                 show-errors>
                <div class="col-md-4 col-md-offset-4">
                    <input type="text" class="form-control" name="lastname" placeholder="Lastname"
                           ng-model="user.lastname"
                           ng-minlength="2"
                           ng-maxlength="35"
                           ng-pattern="lastnamePattern"
                           autocomplete="off">
                    <div validation-messages
                         model-controller="regForm.lastname"
                         minlength-error="Lastname is too short"
                         maxlength-error="Lastname is too long"
                         pattern-error="Should contains only A-Z, a-z, , ', - symbols (example valid - M`gain, invalid - 1Smith)">
                    </div>
                    <span class="glyphicon glyphicon-ok form-control-feedback"
                          ng-if="check(regForm.lastname, 'dirtyValid')
                          && user.lastname.length > 0"></span>
                    <span class="glyphicon glyphicon-remove form-control-feedback"
                          ng-if="check(regForm.lastname, 'dirtyInvalid')"></span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-4 col-md-offset-4">
                    <label class="radio-inline">
                        <input type="radio" ng-model="user.gender" value=1> Male</label>
                    <label class="radio-inline">
                        <input type="radio" ng-model="user.gender" value=2> Female</label>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-4 col-md-offset-4">
                    <button type="submit" class="btn btn-lg btn-primary btn-block" ng-disabled="regForm.$invalid" ng-click="reg()">Sign up</button>
                </div>
            </div>
        </form>
    </div>
</div>