var app=angular.module("additional.directives",[]);app.directive("showErrors",["$timeout",function(a){return{restrict:"A",require:"^form",link:function(f,e,d,h){var g=e[0].querySelector("[name]");var b=angular.element(g);var c=b.attr("name");var i=false;b.bind("blur",function(){i=true;e.toggleClass("has-error",h[c].$invalid)});f.$watch(function(){return h[c].$invalid},function(j){if(!i&&j){return}e.toggleClass("has-error",j)});f.$on("show-errors-check-validity",function(){e.toggleClass("has-error",h[c].$invalid)});f.$on("show-errors-reset",function(){a(function(){e.removeClass("has-error")},0,false)})}}}]);app.directive("ngFocus",[function(){var a="ng-focused";return{restrict:"A",require:"ngModel",link:function(d,c,b,e){e.$focused=false;c.bind("focus",function(f){c.addClass(a);d.$apply(function(){e.$focused=true})}).bind("blur",function(f){c.removeClass(a);d.$apply(function(){e.$focused=false})})}}}]);app.directive("validationMessages",function(){return{scope:{modelController:"="},restrict:"EA",link:function(b,c,a){if(!b.modelController){console.log("Requires a html attribute data-model-controller. This should point to the input field model controller.")}b.$watch("modelController.$error",function(d){if(d){b.errorMessages=[];angular.forEach(d,function(f,e){if(f&&a[e+"Error"]){b.errorMessages.push(a[e+"Error"])}})}},true)},template:'<small class="help-block test" ng-repeat="message in errorMessages" ng-show= "!modelController.$pristine && $first" class="warning">{{message}}</small>'}});app.directive("entitySorting",function(){return{restrict:"A",link:function(e,c,b){var a=[{type:"createdDate",direction:"DESC"},{type:"modifiedDate",direction:"DESC"}];e.$watch("dataSorting",function(){Array.prototype.push.apply(a,e.dataSorting)});var d=null;var f=function(){d={page:e.currentPage-1,size:e.currentPageSize.value,direction:e.currentDataSorting.direction,sort:e.currentDataSorting.type}};e.currentPage=1;e.maxSize=5;e.currentDataSorting=a[0];e.pageSize=[{label:"15",value:15},{label:"25",value:25},{label:"50",value:50},{label:"100",value:100}];e.currentPageSize=e.pageSize[0];e.$watch("currentPageSize.value",function(h,g){if(h===g){return}f();e.getData(d)});e.sorting=function(h){if(e.currentDataSorting.type==h){e.currentDataSorting.direction=e.currentDataSorting.direction=="ASC"?"DESC":"ASC"}else{for(var g=0;g<a.length;g++){if(a[g].type==h){e.currentDataSorting.direction="DESC";e.currentDataSorting=a[g];break}}}f();e.getData(d)}}}});app.directive("sorting",function(){return{restrict:"E",replace:true,compile:function(c,b){var d=b.attribute;var a=b.name;c.html('<a href="#" ng-click="sorting('+d+')">'+a+'   <span ng-show="currentDataSorting.type == '+d+'">        <span style="font-size: small" class="glyphicon glyphicon-sort-by-alphabet" ng-show="currentDataSorting.direction == \'ASC\'"></span>        <span style="font-size: small" class="glyphicon glyphicon-sort-by-alphabet-alt" ng-show="currentDataSorting.direction == \'DESC\'"></span>   </span> </a>')}}});